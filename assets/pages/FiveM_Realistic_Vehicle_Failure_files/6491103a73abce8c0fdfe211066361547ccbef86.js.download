(function () {
  if ('Discourse' in window && typeof Discourse._registerPluginCode === 'function') {
    var __theme_name__ = "Tracking";
    var settings = Discourse.__container__.lookup("service:theme-settings").getObjectForTheme(3);
    var themePrefix = function themePrefix(key) {
      return 'theme_translations.3.' + key;
    };

    Discourse._registerPluginCode('0.2', function (api) {
      try {

        api.onPageChange(function (url, title) {
          if (_paq) {
            _paq.push(["setCustomUrl", url]);
            _paq.push(["setDocumentTitle", title]);
            _paq.push(['setUserId', Discourse.User.currentProp("username")]);
            _paq.push(["trackPageView"]);
          }
        });
      } catch (err) {
        var rescue = require("discourse/lib/utilities").rescueThemeError;
        rescue(__theme_name__, err, api);
      }
    });
  }
})();